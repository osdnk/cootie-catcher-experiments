

# This file was *autogenerated* from the file inverse.sage
from sage.all_cmdline import *   # import sage library

_sage_const_4 = Integer(4); _sage_const_2 = Integer(2); _sage_const_3 = Integer(3); _sage_const_1 = Integer(1)
def main():
    if len(sys.argv) < _sage_const_4 :
        print("Usage: sage inverse_polynomial.sage <coeffs_a> <coeffs_phi> <q>")
        return
    f = int(sys.argv[_sage_const_2 ])
    phi = euler_phi(f)
    q = int(sys.argv[_sage_const_3 ])
    coeffs_a = [int(c) for c in sys.argv[_sage_const_1 ].strip('[]').split(',')]
    R = PolynomialRing(GF(q), 'x')
    P = R.cyclotomic_polynomial(f);
    poly_a = R(coeffs_a)
    pari_poly_a = pari(poly_a)
    pari_poly_p = pari(P)
    inv_c_q_pari = pari(_sage_const_1  / pari_poly_a).Mod(pari_poly_p).lift()

    if inv_c_q_pari is None:
        print("None")
    else:
        inv = []
        for v in inv_c_q_pari:
            inv.append(int(v))
        print(inv)

if __name__ == "__main__":
    main()


